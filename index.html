<!DOCTYPE html>
<html id="cloneThis">
    <head>
    	<title>YouTube</title>
        <meta charset="UTF-8">
        <meta description="YOU TUBE">
        <link rel="stylesheet" type="text/css" href="css/style.css">
        <link rel="icon" href="imgs/youtube-small.png">

    </head>

    <body>  

        <script src="js/search.js" type="text/javascript"></script>
        <script src="https://apis.google.com/js/client.js?onload=googleApiClientReady"></script>
        <script src="https://apis.google.com/js/client.js?onload=onClientLoad" type="text/javascript"></script>
        <script src="js/midi.js" type="text/javascript"></script>
        <!-- <script src="js/newWindow.js" type="text/javascript"></script> -->


        <div class="div-stuff">
            <img id="show" src="imgs/youtube-full.png">
        	<input id="search" autocapitalize="none" autocomplete="off" autocorrect="off" autofocus="" name="search_query" tabindex="0" type="text" spellcheck="false" placeholder="Search" style="outline: none;">
            <button id="button" onclick="search()"><img src="imgs/search.png"></button>
        </div>

        <div id="container">
            <div id="player"></div>    
        </div>

        <div id = "icons">
            <img id="new" src="imgs/new-window.png" onclick="openNewWindowMIDI()" title="New Player Window">
            <img id="prev" src="imgs/skip-back.png" onclick="prevMIDI()" title="Previous Video">
            <img id="rewind" src="imgs/rewind.png" onclick="rewindMIDI()" title="Skip Back One Second">
            <img id="pause" src="imgs/pause.png" onclick="pauseMIDI()" title="Pause">
            <img id="play" src="imgs/play.png" onclick="playMIDI()" title="Play, duh">
            <img id="fastforward" src="imgs/fast-forward.png" onclick="fastforwardMIDI()" title="Skip Forward One Second">
            <img id="next" src="imgs/skip-forward.png" onclick="nextMIDI()" title="Next VIdeo">
            <img id="loop" src="imgs/loop.png" onclick="loopMIDI()" title="Trigger Loop">
            <img id="width" src="imgs/width.png" onclick="loopSizeMIDI()" title="Loop Size">
            <img id="playback" src="imgs/speed.png" onclick="playbackMIDI()" title="Playback Rate">
            <img id="vol" src="imgs/volume.png" onclick="volMIDI()" title="Volume">

        </div>

        <div class="div-stuff">
            <select id="selector" onchange="selection()">
                <option value="0"> Search for a video above </option>
            </select>
        </div>

        <div id="modal">    
            <div id="modal-inner"> 
                
                <h1> www.yyyyytube.com </h1>

                <p style="font-family: Roboto, Arial, sans-serif;
                
                    "
                    >www.yyyyyoutube.com is a web application that allowers users control YouTube video playback parameters using a USB MIDI controller</p>

                <p>How to get started:</p>
                <ul>
                    <li> Connect USB MIDI device, then reload the page </li>

                    <li> Click on a playback parameter icon below && then move a knob/button on yr MIDI controller to assign it to a plackback function ~~ reassign the parameter  by clicking && moving a new knob/button </li>

                    <li>Video control functions, in order of the icons below the viewer, are:
                        <ul id="sublist">
                            <li>Go back one video in results</li>
                            <li>Skip back one second</li>
                            <li>Pause</li>
                            <li>Play</li>
                            <li>Skip forward one second</li>
                            <li>Go forward one video in results</li>
                            <li>Trigger loop</li>
                            <li>Loop size</li>
                            <li>Playback rate</li>
                            <li>Volume</li>
                        </ul>
                    </li>

                    <li> The playback rate, loop size, && volume are control values (knobs); all other parameters are on/off (buttons) </li>

                    <li> Don't forget to set a loop size before triggering a loop, otherwise you'll be asking the app to make a loop with a null size! </li>

                    <li> TIP: the longer the video is the more data it has to buffer, meaning smaller loops will take longer to load or may not load at all</li>

                    <li> The drop-down menu below the video player will display the top five results (based on YouTube's rating algorithms) matching your search terms; select a title to begin playback </li>

                    <li> If you want to see this information after closing this window, click on the YouTube logo at the top of the page</li>
                </ul>
                <p>For more info or to check out the code, visit the <a href="https://github.com/gin-hell/youtube-midi-controller" target="blank" style="color:#ff0002">GitHub repo</a></p>

                <button id="close">close</button>
            </div>
        </div>

        <div id="modal2">    
            <div id="modal-inner2"> 

                <p>
                    Move a control on your MIDI device to assign this command
                </p>

                <button id="close2">close</button>
            </div>
        </div>
 
        







        <script>    
            var tag = document.createElement('script');

                tag.src = "//www.youtube.com/iframe_api";
                var firstScriptTag = document.getElementsByTagName('script')[0];
                firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);


            var modal = document.getElementById('modal');
            modal.style.display = sessionStorage.getItem("display")
            
            var close = document.getElementById('close');
            close.onclick = function(){
                sessionStorage.setItem("display", "none");
                modal.style.display = sessionStorage.getItem("display")
            }

            var show = document.getElementById('show');
            show.onclick = function(){
                modal.style.display = "block";
            }

            // or press esc key to close modal:

            document.addEventListener("keyup", function(event){

                if(event.keyCode == 27){
                    sessionStorage.setItem("display", "none");
                    modal.style.display = sessionStorage.getItem("display")
                }

                // if(event.keyCode == 192){
                //     var myWindow = window.open("newWindowIndex.html", "", "innerWidth=640, innerHeight=375, scrollbars=no, status=no left="+ Math.random()*(window.innerWidth)+", top="+ Math.random()*(window.innerHeight)+"");
                // }
            });
         </script>



    </body>
</html>