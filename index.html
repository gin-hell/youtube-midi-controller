<!DOCTYPE html>
<html>
    <head>
    	<title>yOUtUBE</title>
        <meta charset="UTF-8">
        <meta description="YOU TUBE">
        <link rel="stylesheet" type="text/css" href="css/style.css">
        <link rel="icon" href="imgs/youtube-small.png">

    </head>

    <body>  

        <script src="js/search.js" type="text/javascript"></script>
        <script src="https://apis.google.com/js/client.js?onload=googleApiClientReady"></script>
        <script src="https://apis.google.com/js/client.js?onload=onClientLoad" type="text/javascript"></script>
        <script src="js/midi.js" type="text/javascript"></script>


        <div class="div-stuff">
            <img id="show" src="imgs/youtube-full.png">
        	<input id="search" autocapitalize="none" autocomplete="off" autocorrect="off" autofocus="" name="search_query" tabindex="0" type="text" spellcheck="false" placeholder="Search" style="outline: none;">
            <button id="button" onclick="search()"><img src="imgs/search.png"></button>
        </div>

        <div id="container">
            <div id="player"></div>    
        </div>

        <div id = "icons">
            <img id="prev" src="imgs/skip-back.png" onclick="prevMIDI()" title="Go Back 1 Video in Results">
            <img id="rewind" src="imgs/rewind.png" onclick="rewindMIDI()" title="Skip Back 1 Second">
            <img id="pause" src="imgs/pause.png" onclick="pauseMIDI()" title="Pause">
            <img id="play" src="imgs/play.png" onclick="playMIDI()" title="Play, duh">
            <img id="fastforward" src="imgs/fast-forward.png" onclick="fastforwardMIDI()" title="Skip Forward 1 Second">
            <img id="next" src="imgs/skip-forward.png" onclick="nextMIDI()" title="Go to Next VIdeo in Results">
            <img id="loop" src="imgs/loop.png" onclick="loopMIDI()" title="Trigger Loop">
            <img id="width" src="imgs/width.png" onclick="loopSizeMIDI()" title="Loop Size">
            <img id="playback" src="imgs/speed.png" onclick="playbackMIDI()" title="Playback Rate">
            <img id="vol" src="imgs/volume.png" onclick="volMIDI()" title="Volume">

        </div>

        <div class="div-stuff">
            <select id="selector" onchange="selection()">
                <option value="0"> Search for a video above </option>
            </select>
        </div>

        <div id="modal">    
            <div id="modal-inner"> 
                
                <h1> www.yOUtUbE.com </h1>

                <p style="color:#555555; font-style:italic;">yOUtUBE is a web application that lets users control YouTube video playback parameters via MIDI protocol</p>

                <ul>
                    <li> connect USB MIDI device, then reload the page </li>

                    <li> click on a playback parameter icon below && then move a knob/button on yr MIDI controller to assign it to a plackback function ~~ reassign the parameter  by clicking && moving a new knob/button </li>

                    <li>functions are, in order of the icons below:
                        <ul id="sublist">
                            <li>go back 1 video in results</li>
                            <li>skip back 1 second</li>
                            <li>pause</li>
                            <li>play</li>
                            <li>skip forward 1 second</li>
                            <li>go forward 1 video in results</li>
                            <li>trigger loop</li>
                            <li>loop size</li>
                            <li>playback rate</li>
                            <li>volume</li>
                        </ul>
                    </li>

                    <li> playback rate, loop size, && volume are control values 0-127 (knobs); all other parameters are on/off (buttons) </li>

                    <li> don't forget to set yr loop size before you trigger a loop so that you don't try to make a loop without a size ! </li>

                    <li> tip: the longer the video is, the more it has to buffer && smaller loops will take longer to load or may not load at all</li>

                    <li> use the #BIGTEEN search bar to search for a YouTube video </li>

                    <li> the drop-down menu below the video player will display the top 5 results matching yr search terms; select a title to begin playback </li>

                </ul>

                <button id="close">close</button>
            </div>
        </div>

        <div id="modal2">    
            <div id="modal-inner2"> 

                <p>
                    move a MIDI control to assign it to the function u just clicked on ! 
                </p>

                <button id="close2">close</button>
            </div>
        </div>
 
        







        <script>    
            var tag = document.createElement('script');

                tag.src = "//www.youtube.com/iframe_api";
                var firstScriptTag = document.getElementsByTagName('script')[0];
                firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);


            var modal = document.getElementById('modal');
            modal.style.display = sessionStorage.getItem("display")
            
            var close = document.getElementById('close');
            close.onclick = function(){
                sessionStorage.setItem("display", "none");
                modal.style.display = sessionStorage.getItem("display")
            }

            var show = document.getElementById('show');
            show.onclick = function(){
                modal.style.display = "block";
            }

         </script>



    </body>
</html>